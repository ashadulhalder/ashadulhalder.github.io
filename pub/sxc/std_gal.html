<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Student Gallery</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/icon" href="images/favicon.png"/> 

    <!---------- CSS ------------>
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="styles/style.css">
    <link rel="stylesheet" href="styles/style_hm.css">
    <link rel="stylesheet" href="styles/glry.css">

    <!--<link rel="stylesheet" href="styles/bootstrap.min.css">
    <link rel="stylesheet" href="styles/font-awesome.min.css">
    <link rel="stylesheet" href="styles/style.css"> -->
    <script type="text/javascript" src="https://sdk.userbase.com/2/userbase.js"></script>
    <!---------- JS ------------>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"> </script>
    <!--<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});</script>-->
    <script type="text/javascript" src="styles/glry.js"></script>

    <!--<script type="text/javascript" src="styles/bootstrap.bundle.min.js"></script>
    <script type="text/javascript" src="styles/jquery.min.js"> </script>
    <script type="text/javascript" src="styles/MathJax.js"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});</script> -->
    <script>
		$(function(){$("#hdr").load("hdr_ftr/nav.html");});
		$(function(){$("#ftr").load("hdr_ftr/ftr.html");});
	</script>
</head>
<!--==============================================================-->
<body>
    <!-- Loading View -->
    <div id="loading-view">Loading...</div>

    <!-- Auth View -->
    <div id="auth-view" class="container">
        <div class="row">
            <div class="col-md-4 offset-md-4">
                <div class="login-form bg-light mt-4 p-4">
                    <form id="login-form" class="row g-3">
                        <h4>Log in</h4>
                        <p>The entire website is under construction.. <br>It is not published yet....</p>
                        <div class="col-12">
                            <label>Username</label>
                            <input id="login-username" type="text" required placeholder="Username">
                        </div>
                        <div class="col-12">
                            <label>Password</label>
                            <input id="login-password" type="password" required placeholder="Password">
                        </div>
                        <div class="col-12">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="rememberMe">
                                <label class="form-check-label" for="rememberMe"> Remember me</label>
                            </div>
                        </div>
                        <div class="col-12">
                            <input type="submit" value="Sign in">
                        </div>
                    </form>
                    <div id="login-error"></div>
                </div>
            </div>
        </div>
    </div>

  <div id="todo-view"> 
    <div class='explg'>
        <div id="username"></div>
		<input type="button" value="Logout" id="logout-button" class="lbutton">
		<div id="logout-error"></div>
    </div>
  <header class="header" id="hdr"></header>

  <!--================================ Main =================================-->
<section style="padding-top: 100px;padding-bottom: 40px;"></section>
<section>
    <div style="padding-top: 10px;">
        <h2 class="pg_head" style="text-align: center"><u><i>Student Gallery</i></u></h2>
    </div>
    <div><a href='#' id='expAll' class='exp' onclick="colexp()"><i class="my-float" id='btntxt'>Collapse all Years</i></a></div>

    <div class="ddbr">
        <details>
            <summary><div class="drpdwn">Academic year 2021</div></summary>
            <div class="lst" style="display:flex">
                <div class="glry_cntr">
                    <div class="glry_img_bx">
                        <div id="MainImages"><img src="images/gallery/ug_2021.jpg" alt="" class="myImg" /></div>
                        <div id="Fullscreen"><img src="" alt="" /></div>
                    </div>
                    <div class="glry_txt_dv">
                        <p class="glry_txt">UG students 2021</p>
                    </div>
                </div>
                <div class="glry_cntr">
                    <div class="glry_img_bx">
                        <div id="MainImages"><img src="images/gallery/pg_2021.jpg" alt="" class="myImg" /></div>
                        <div id="Fullscreen"><img src="" alt="" /></div>
                    </div>
                    <div class="glry_txt_dv">
                        <p class="glry_txt">PG students 2021</p>
                    </div>
                </div>
            </div>
        </details>
    </div>
    
    <div class="ddbr">
        <details>
            <summary><div class="drpdwn">Academic year 2020</div></summary>
            <div class="lst" style="display:flex">
                <div class="glry_cntr">
                    <div class="glry_img_bx">
                        <div id="MainImages"><img src="images/gallery/ug_2020.jpg" alt="" class="myImg" /></div>
                        <div id="Fullscreen"><img src="" alt="" /></div>
                    </div>
                    <div class="glry_txt_dv">
                        <p class="glry_txt">UG students 2020</p>
                    </div>
                </div>
                <div class="glry_cntr">
                    <div class="glry_img_bx">
                        <div id="MainImages"><img src="images/gallery/pg_2020.jpg" alt="" class="myImg" /></div>
                        <div id="Fullscreen"><img src="" alt="" /></div>
                    </div>
                    <div class="glry_txt_dv">
                        <p class="glry_txt">PG students 2020</p>
                    </div>
                </div>
            </div>
        </details>
    </div>

    <div class="ddbr">
        <details>
            <summary><div class="drpdwn">Academic year 2019</div></summary>
            <div class="lst" style="display:flex">
                <div class="glry_cntr">
                    <div class="glry_img_bx">
                        <div id="MainImages"><img src="images/gallery/ug_2019.jpg" alt="" class="myImg" /></div>
                        <div id="Fullscreen"><img src="" alt="" /></div>
                    </div>
                    <div class="glry_txt_dv">
                        <p class="glry_txt">UG students 2019</p>
                    </div>
                </div>
                <div class="glry_cntr">
                    <div class="glry_img_bx">
                        <div id="MainImages"><img src="images/gallery/pg_2019.jpg" alt="" class="myImg" /></div>
                        <div id="Fullscreen"><img src="" alt="" /></div>
                    </div>
                    <div class="glry_txt_dv">
                        <p class="glry_txt">PG students 2019</p>
                    </div>
                </div>
            </div>
        </details>
    </div>

    <div class="ddbr">
        <details>
            <summary><div class="drpdwn">Academic year 2018</div></summary>
            <div class="lst" style="display:flex">
                <div class="glry_cntr">
                    <div class="glry_img_bx">
                        <div id="MainImages"><img src="images/gallery/ug_2018.jpg" alt="" class="myImg" /></div>
                        <div id="Fullscreen"><img src="" alt="" /></div>
                    </div>
                    <div class="glry_txt_dv">
                        <p class="glry_txt">UG students 2018</p>
                    </div>
                </div>
                <div class="glry_cntr">
                    <div class="glry_img_bx">
                        <div id="MainImages"><img src="images/gallery/pg_2018.jpg" alt="" class="myImg" /></div>
                        <div id="Fullscreen"><img src="" alt="" /></div>
                    </div>
                    <div class="glry_txt_dv">
                        <p class="glry_txt">PG 2018</p>
                    </div>
                </div>
            </div>
        </details>
    </div>

    <div class="ddbr">
        <details>
            <summary><div class="drpdwn">Academic year 2017</div></summary>
            <div class="lst" style="display:flex">
                <div class="glry_cntr">
                    <div class="glry_img_bx">
                        <div id="MainImages"><img src="images/gallery/ug_2017.jpg" alt="" class="myImg" /></div>
                        <div id="Fullscreen"><img src="" alt="" /></div>
                    </div>
                    <div class="glry_txt_dv">
                        <p class="glry_txt">UG students 2017</p>
                    </div>
                </div>
                <div class="glry_cntr">
                    <div class="glry_img_bx">
                        <div id="MainImages"><img src="images/gallery/pg_2017.jpg" alt="" class="myImg" /></div>
                        <div id="Fullscreen"><img src="" alt="" /></div>
                    </div>
                    <div class="glry_txt_dv">
                        <p class="glry_txt">PG students 2017</p>
                    </div>
                </div>
            </div>
        </details>
    </div>
</section>
<!--============================ Footer ========================================-->
<section class="ftr" id="ftr"></section>
</div>


<!-- application code -->
<script type="text/javascript">
  userbase.init({ appId: '73eaa452-5e6f-40b4-85cb-428bdac3e38d' })
    .then((session) => session.user ? showTodos(session.user) : showAuth())
    .catch(() => showAuth())
    .finally(() => document.getElementById('loading-view').style.display = 'none')

  function handleLogin(e) {
    e.preventDefault()

    const username = document.getElementById('login-username').value
    const password = document.getElementById('login-password').value

    userbase.signIn({ username, password, rememberMe: 'local' })
      .then((user) => showTodos(user))
      .catch((e) => document.getElementById('login-error').innerHTML = e)
  }

  function handleLogout() {
    userbase.signOut()
      .then(() => showAuth())
      .catch((e) => document.getElementById('logout-error').innerText = e)
  }

  function showTodos(user) {
    document.getElementById('auth-view').style.display = 'none'
    document.getElementById('todo-view').style.display = 'block'
  }

  function showAuth() {
    document.getElementById('todo-view').style.display = 'none'
    document.getElementById('auth-view').style.display = 'block'
    document.getElementById('login-username').value = ''
  }

  document.getElementById('login-form').addEventListener('submit', handleLogin)
  document.getElementById('logout-button').addEventListener('click', handleLogout)
  document.getElementById('auth-view').style.display = 'none'
  var divsToHide = document.getElementById('todo-view');
  for(var i = 0; i < divsToHide.length; i++){
      console.log(i);
      divsToHide[i].style.display = "none !important";
  }
</script>
<script>
    //window.onload = function() {
    var details = document.querySelectorAll('details');
    Array.from(details).forEach(function(obj, idx) {
        obj.open = true;
    });
    var stt = 1;
    //}

    function colexp() {
        if(stt==1){
            Array.from(details).forEach(function(obj, idx) {
                obj.open = false;
            });
            document.getElementById("btntxt").innerHTML = "Expand all Years";
            stt = 0;
        }
        else {
            Array.from(details).forEach(function(obj, idx) {
                obj.open = true;
            });
            document.getElementById("btntxt").innerHTML = "Collapse all Years";
            stt = 1;
        }
    }
 //   var xa = document.getElementById('expAll');
 //   xa.addEventListener('click', function(e) {
 //       e.target.classList.toggle('exp');
 //       e.target.classList.toggle('col');
 //       var details = document.querySelectorAll('details');
 //       Array.from(details).forEach(function(obj, idx) {
 //           if (e.target.classList.contains('exp')) {
 //               obj.open = true;
 //               document.getElementById("btntxt").innerHTML = "Collapse all Years";
 //           } 
 //           else {
 //               obj.open = false;
 //               document.getElementById("btntxt").innerHTML = "Expand all Years";
 //           }
 //       });
 //   }, false);

    
</script>
</body>
</html>
