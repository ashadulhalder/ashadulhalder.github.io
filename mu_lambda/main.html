<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="author" content="Ashadul Halder">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="google" content="notranslate" />
	<title>&mu;-&lambda;</title>
    	<script data-require="jquery@*" data-semver="3.1.1" src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

    	<link rel="stylesheet" href="stl.css" />
    	<script src="rt.js"></script>
</head>
<style>
	.loader {z
	  border: 5px solid #f3f3f3;
	  border-radius: 50%;
	  border-top: 5px solid #3498db;
	  width: 80%;
	  height: 80%;
	  -webkit-animation: spin 5s linear infinite; /* Safari */
	  animation: spin 5s linear infinite;
	}

	/* Safari */
	@-webkit-keyframes spin {
	  0% { -webkit-transform: rotate(0deg); }
	  100% { -webkit-transform: rotate(360deg); }
	}

	@keyframes spin {
	  0% { transform: rotate(0deg); }
	  100% { transform: rotate(360deg); }
	}
	.anim{
		width: 400px;height: 400px; overflow:visible;
	}
	.animbox{
		overflow: auto; background-color:#000000; color:#FF0000;font-size:largest;display: block;position: fixed;z-index: 15; left: 0;top: 0;width: 100%;height: 100%; color:#4488FF;font-size:30px;display:block
	}
	@media only screen and (max-width: 400px) {
		.anim{width: 300px;height: 300px; overflow: visible;float:left;padding-left: 50px;}
		.animbox{overflow: auto; background-color:#000000; color:#FF0000;font-size:largest;display: block;position: fixed;z-index: 15; left: 0;top: 0;width: 100%;height: 100%; color:#4488FF;font-size:30px;display:block; align:left}
	}
</style>
<body>
    <div class="animbox" align="center" id="msg"><div class="anim"><br><br><br><br><br><div class="loader"><div class="loader"><div class="loader"><div class="loader"><div class="loader"><div class="loader"><div class="loader"><div class="loader"></div></div></div></div></div></div></div></div><b>Loading...<b></div></div>
    <div class="container">
      <h1 class="styleh" align="center">&mu;-&lambda;</h1>
	  <table width="800" border="0" align="center">
	  <tr><td>
	  <table width="800" border="0" align="center">
		 <tr>
			<td>
				<div class="image-frame">
					<img id="image0" src="rsrc/table.png" alt="Picture" class="table"/>
					<img id="image1" src="rsrc/base.png" alt="Picture" class="base"/>
					<img id="image2" src="rsrc/prism.png" alt="Picture" class="prism"/>
			  </div>
     		</td>
			<td>
				<div>
				<br>
					<p align="center" class="style2">Telescope</p>
					<input id="sldbs" class="image-rotate1" type="range" name="rangeInput" min="-150" max="150" value="0" step="0.01" oninput="numbs.value=sldbs.value" >
					<input id="numbs" class="image-rotate1" type="text" name="rangeInput"value="0" step="0.001" oninput="sldbs.value=numbs.value" >
					<br>
					<p align="center" class="style2">Prismtable</p>
					<br>
					<input id="sldpr" class="image-rotate2" type="range" name="rangeInput" min="-180" max="180" value="0" step="0.01" oninput="numpr.value=sldpr.value" >
					<input id="numpr" class="image-rotate2" type="text" name="rangeInput"value="0" step="0.001" oninput="sldpr.value=numpr.value" >
					<div>&nbsp;</div>
					<div align="center">
						<button class="button" id="info">Info</button>
					</div>
				</div>
			</td>
		 </tr>
	</table></td></tr>
	<tr><td>
	<div class="spc-frame">
		<canvas id="spectCanvas" width="800" height="400" style="border:1px solid #c3c3c3;background-color: #000000">
			Your browser does not support the canvas element.
		</canvas>
	</div></td></tr>
	</table
	</div>
<div id="myModal" class="modal">

  <!-- Modal content -->
  <div class="modal-content">
    <span class="close">&times;</span>
	<div align="center"><span class="inh"><u><i>Procedure</i></u></span></div>
	<ul>
	  <li>Hover your cursor over the slider handle (<span class="inshl">1</span> or <span class="inshl">3</span>) and use the up and down arrow keys on the keyboard for fine-tuning. The textbox <span class="inshl">2</span> and <span class="inshl">4</span> can be used for fine adjustment of the telescope and prism table respectively.</li>
	  <li>First Place the prism in such a way that, the reflected beams by both the prism planes can be observed without rotating the prism.</li>
	  <li>Record the position of the reflected beams in Table 1 as A<sub>1</sub> and A<sub>2</sub>.</li>
	  <li>Calculate the prism angle as described in Table 1.</li>
	  <li>Repeat the same procedure 4 times and calculate the average value of the prism angle.</li>
	  <div align="center"> <img src="rsrc/tbl1.png" width="600"/></div>
	  <li>Now rotate the prism table in such a way that, one of the spectra attains the position of minimum deviation (for example 5~35 degree of prism table).</li>
	  <li>After fixing the position of the prism, record the position of the direct rays, reflected rays and the refracted rays in Table 2, using the telescope.</li>
	  <li>Repeat the same for each spectra and tabulate in Table 2.</li>
	  <li>Plot a <it>&mu;</it> vs 1/&lambda;<sup>2</sup> graph from the experimental data and estimated the minimum deviation of the prism from that.</li>
	  <li>Wavelengths of the Mercury spectral lines are 420.6 nm, 447.2 nm, 492.2 nm, 501.6 nm, 587.6 nm, 667.8 nm</li>
	  <li>In the case of direct reading, the telescope reading is 0.</li>
	</ul>
	<div align="center"> <img src="rsrc/tbl2.png" width="600"/></div>
	<br>
	  <p>&nbsp;</p>
	  <p>&nbsp;</p>
	  <p>&nbsp;</p>
	  <p>&nbsp;</p>
  </div>

</div>
<script>
	var modal = document.getElementById("myModal");
	var span = document.getElementsByClassName("close")[0];
	span.onclick = function() {
	  modal.style.display = "none";
	}
	window.onclick = function(event) {
	  if (event.target == modal) {
		modal.style.display = "none";
	  }
	}

	var sldr1 = document.getElementById("sldbs")
	var sldr2 = document.getElementById("sldpr")
	var numr1 = document.getElementById("numbs")
	var numr2 = document.getElementById("numpr")
	var canvas = document.getElementById("spectCanvas");
	var ctx = canvas.getContext("2d");
	var wd = 2;


	
	lambdal = [420.6, 447.2, 492.2, 501.6, 587.6, 667.8];
	var adj = 5932;
	
	
	function draw(){
		ctx.clearRect(0,0,800,200);
		ctx.shadowColor = "#000000";
		ctx.beginPath();
		ctx.moveTo(400, 10);
		ctx.lineTo(410, 2);
		ctx.lineTo(390, 2);
		ctx.closePath();

		ctx.fillStyle = "#00FF00";
		ctx.fill();
		if (sldr2.value >=-120 && sldr2.value<=60){
			var r1 = 2*(Number(sldr2.value)+30)-180;
			r1 = ((r1+180+360)%360)-180;
		}
		else {
			var r1 = -180;
		}
		if (Number(sldr1.value)<=r1+15 && Number(sldr1.value)>=r1-15){
			px = 100*(r1-sldr1.value);
			ctx.fillStyle = "#DDDDFF";
			ctx.shadowBlur = 10;
			ctx.shadowColor = "white";
			ctx.fillRect(800-(px-(wd/2)+400),10,wd,250);
		}
		////////////////////////////////////////////////////////////
		if (sldr2.value >=-180 && sldr2.value<=-60){
			var r2 = 2*(Number(sldr2.value)+150)-180;
			r2 = ((r2+180+360)%360)-180;
		}
		else if (sldr2.value >=120 && sldr2.value<=180){
			var r2 = 2*(Number(sldr2.value)+150)-180;
			r2 = ((r2+180+360)%360)-180;
		}
		else {
			var r2 = -180;
		}
		
		if (Number(sldr1.value)<=r1+15 && Number(sldr1.value)>=r1-15){
			px = px = 100*(r2-sldr1.value);
			ctx.fillStyle = "#DDDDFF";
			ctx.shadowBlur = 10;
			ctx.shadowColor = "white";
			ctx.fillRect(800-(px-(wd/2)+400),10,wd,250);
		}
		
		////////////////////////////////////////////////////////////
		for (i = 0; i < lambdal.length; i++) {
			mu = 1.49778+4371.4/Math.pow(Number(lambdal[i]),2);
			if (sldr2.value >=-30 && sldr2.value<=60){
				var inc1 = (Number(sldr2.value)+30)*Math.PI/180;
				var t1 = Math.asin(Math.sin(inc1)/mu);
				var t2 = 60*Math.PI/180-t1;
				var inc2 = Math.asin(Math.sin(t2)*mu);
				var dev = (inc1+inc2-t1-t2)*180/Math.PI;
				if (dev!==dev){dev = -180;}
				var tr = dev;
			}
			else if (sldr2.value >=-180 && sldr2.value<=-150){
				var inc1 = -1*(Number(sldr2.value)+150)*Math.PI/180;
				var t1 = Math.asin(Math.sin(inc1)/mu);
				var t2 = 60*Math.PI/180-t1;
				var inc2 = Math.asin(Math.sin(t2)*mu);
				var dev = (inc1+inc2-t1-t2)*180/Math.PI;
				if (dev!==dev){dev = 180;}
				var tr = -dev;
			}
			else if (sldr2.value >=120 && sldr2.value<=180){
				var inc1 = -1*(Number(sldr2.value)-210)*Math.PI/180;
				var t1 = Math.asin(Math.sin(inc1)/mu);
				var t2 = 60*Math.PI/180-t1;
				var inc2 = Math.asin(Math.sin(t2)*mu);
				var dev = (inc1+inc2-t1-t2)*180/Math.PI;
				if (dev!==dev){dev = 180;}
				var tr = -dev;
			}
			else {tr = -180}


			if (Number(sldr1.value)<=tr+15 && Number(sldr1.value)>=tr-15){
				var px = 100*(tr-sldr1.value);
				ctx.shadowBlur = 10;
				if (i==0){ctx.fillStyle = "#4d00bf";ctx.shadowColor = "#4d00bf";ctx.fillRect(800-(px-(wd/2)+400),10,wd,180);}
				else if (i==1){ctx.fillStyle = "#0035ff";ctx.shadowColor = "#0035ff";ctx.fillRect(800-(px-(wd/2)+400),10,wd,180);}
				else if (i==2){ctx.fillStyle = "#00ffea";ctx.shadowColor = "#00ffea";ctx.fillRect(800-(px-(wd/2)+400),10,wd,180);}
				else if (i==3){ctx.fillStyle = "00ff7b";ctx.fillRect(800-(px-(wd/2)+400),10,wd,180);}
				else if (i==4){ctx.fillStyle = "#ffe600";ctx.shadowColor = "#ffe600";ctx.fillRect(800-(px-(wd/2)+400),10,wd,180);}
				else if (i==5){ctx.fillStyle = "#FF0000";ctx.shadowColor = "#FF0000";ctx.fillRect(800-(px-(wd/2)+400),10,wd,180);}
				//ctx.shadowBlur = 10;
			}
		}
	}
	
	//spectra(0,0)
	window.onload = function () {
		//modal.style.display = "block";
		document.getElementById("msg").style.display="none";
		draw()
	}

	sldr1.onchange = function () {
		draw()
	}
	
	sldr2.onchange = function () {
		draw()
	}
	
	numr1.onchange = function () {
		draw()
	}
	
	numr2.onchange = function () {
		draw()
	}
	
	info.onclick = function () {
		modal.style.display = "block";
	}
</script> 
	
	
	
  </body>


</html>
