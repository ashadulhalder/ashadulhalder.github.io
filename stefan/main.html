<!DOCTYPE html>
<html>
<head>
    <script data-require="jquery@*" data-semver="3.1.1" src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

    <link rel="stylesheet" href="stl.css" />
    <script src="rt.js"></script>

<body>
    <div class="container">
      <h1 class="styleh" align="center">Stefan's law</h1>
	  <table width="800" border="0" align="center">
		  <tr>
			<td>
				<canvas id="canvassp" width="800" height="300"  style="border:3px solid">
					<img src="rsrc/setup.png" alt="Picture" name="setup" width="800"  align="center" id="setup" class="setup"/>
					<img src="rsrc/light_on.png" alt="Picture" width="800"  align="center" id="lon"  class="lon"/>
					<img src="rsrc/glow.png" alt="Picture" width="800"  align="center" id="glo"  class="glo"/>
				</canvas>
			</td>
		  </tr>
		  <tr><td align="center">
				<br><br><br><br>
				<span class="style4"> Voltage</span>
				<br><br>
				<input id="sldv" class="slider" type="range" name="rangeInput" min="0" max="5" value="0" step="0.01" oninput="numv.value=sldv.value" >
		  </td></tr>
</table>
<div id="myModal" class="modal">

  <!-- Modal content -->
  <div class="modal-content">
    <span class="close">&times;</span>
	<div align="center"><span class="inh"><u><i>Instructions</i></u></span></div>
	<ul>
	  <li>1st slider to adjust the distance between the slit and the telescope (in cm). (<span class="inshl">1</span>) </li>
	  <li>1st text box to read the value of slider 1. It can be used for fine adjustment.(<span class="inshl">2</span>) </li>
	  <li>2nd slider to adjust the position of the telescope along x axis (in mm). (<span class="inshl">3</span>) </li>
	  <li>2nd text box to read the value of slider 2. It can be used for fine adjustment.(<span class="inshl">4</span>) </li>
	  <li>3rd slider to adjust the distance between the slit and the prism (in cm). (<span class="inshl">5</span>) </li>
	  <li>3rd text box to read the value of slider 3. It can be used for fine adjustment.(<span class="inshl">6</span>) </li>
	  <li>4th slider to adjust the slit width. (<span class="inshl">7</span>) </li>
	  <li>To observe the continious motion of spectra, just click on the slider button and the use up/down key of you keyboard.</li>
	  <li>The slider can be changed using both mouse or keyboard. In the case of keyboard, atfirst the corresponding slider has to be focused by mouse click. After that, the slider can be adjusted by pressing the arrow buttons.</li>
	</ul>
	<div align="center"> <img src="rsrc/instr.png" width="600" height="200" /></div>
  </div>

</div>


	
	
	
  
<script>
	var modal = document.getElementById("myModal");
	var span = document.getElementsByClassName("close")[0];
	span.onclick = function() {
	  modal.style.display = "none";
	}
	window.onclick = function(event) {
	  if (event.target == modal) {
		modal.style.display = "none";
	  }
	}
	
	function draw(vtg){
		contexsp.clearRect(0,0,800,300);
		contexsp.globalAlpha = 1;
		contexsp.drawImage(imgsp, 0, 0, 1200, 400, 0, 0, 800, 300);
		contexsp.font = "30px Arial";
		contexsp.fillStyle = "red";
		contexsp.fillText(String(vtg.toFixed(2)),140,225);
		amp = -37+1350*Math.log10(vtg+1.2)+4*Math.pow((vtg+4),2);
		contexsp.fillText(String(amp.toFixed(0)),670,220);
		if (vtg>=1.51){opct = Math.pow(vtg-1.51,0.2);}
		else{opct = 0;}
		contexsp.globalAlpha = opct;
		contexsp.drawImage(imglight, 0, 0, 1200, 400, 0, 0, 800, 300);
		if (vtg>=2.5){opct = (vtg-2.5)/2.5;}
		else{opct = 0;}
		contexsp.globalAlpha = opct;
		contexsp.drawImage(imgglo, 0, 0, 1200, 400, 0, 0, 800, 300);		
	}

	
	var sldv = document.getElementById("sldv")
	
	var canvassp = document.getElementById("canvassp");
	var contexsp = canvassp.getContext("2d"); 
	var imgsp = document.getElementById("setup");
	var imglight = document.getElementById("lon");
	var imgglo = document.getElementById("glo");
	
	
	
	window.onload = function () {
		//modal.style.display = "block";
		v = Number(sldv.value);
		draw(v)
	}
	
	sldv.onchange = function () {			
		v = Number(sldv.value);
		draw(v)	
	}
	
	numv.onchange = function () {			
		v = Number(sldv.value);
		draw(v)	
	}
</script> 
	
	
	
</body>


</html>